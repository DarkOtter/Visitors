# Visitors — a tiny visitor-pattern code generator for Go

This tool scans a Go package and generates one or more visitor interfaces which
distinguish groups of types.

```go
package example

type FrogPotion struct{}
type BatPotion struct{}
type GoatPotion struct{}

//go:generate go run Visitors -o example_generated.go -generate Potion Visitors/example
```

Will generate a file like:

```go
// Code generated by Visitors -o example_generated.go -generate Potion Visitors/example; DO NOT EDIT.

package example

type PotionVisitor interface {
	VisitBatPotion(obj *BatPotion)
	VisitFrogPotion(obj *FrogPotion)
	VisitGoatPotion(obj *GoatPotion)
}

type Potion interface {
	Accept(visitor PotionVisitor)
}

func (obj *BatPotion) Accept(visitor PotionVisitor) {
	visitor.VisitBatPotion(obj)
}

func (obj *FrogPotion) Accept(visitor PotionVisitor) {
	visitor.VisitFrogPotion(obj)
}

func (obj *GoatPotion) Accept(visitor PotionVisitor) {
	visitor.VisitGoatPotion(obj)
}
```

"Sire! You might turn into a frog, a bat, a goat, or a ███ ████!"
&mdash; Jacquouille la Fripouille